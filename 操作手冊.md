# SmartClean 清潔服務管理系統 - 操作手冊

## 📋 目錄

1. [系統概述](#1-系統概述)
2. [快速開始](#2-快速開始)
3. [房東端操作](#3-房東端操作)
4. [清潔師傅端操作](#4-清潔師傅端操作)
5. [管理後台操作](#5-管理後台操作)
6. [常見問題](#6-常見問題)

---

## 1. 系統概述

### 1.1 系統介紹
SmartClean 是一款專業的短租房屋清潔服務管理平台，連接房東與清潔師傅。

### 1.2 三個端口
| 端口 | 用戶 | 網址 |
|------|------|------|
| 房東端 | 發佈清潔任務 | /host.html |
| 清潔師傅端 | 搶單並執行任務 | /cleaner.html |
| 管理後台 | 調度管理 | /admin.html |

### 1.3 訂單狀態流程
```
待接單 (open) → 已接單 (accepted) → 已到達-清潔中 (arrived) → 已完成 (completed)
```

---

## 2. 快速開始

### 2.1 啟動服務器

```bash
cd /home/nico/projects/cleaning_service
sudo python3 -c "
import sys
sys.path.insert(0, '.')
from api.server import CleaningAPI, run_server
api = CleaningAPI('cleaning.db')
run_server(api, host='0.0.0.0', port=80)
"
```

### 2.2 訪問地址
- 首頁：http://localhost:80/
- 房東端：http://localhost:80/host.html
- 清潔師傅端：http://localhost:80/cleaner.html
- 管理後台：http://localhost:80/admin.html

### 2.3 測試帳號
| 角色 | 登錄碼/帳號 |
|------|-------------|
| 房東 | 547047 |
| 清潔師傅 | 733025 |
| 管理員 | admin / admin123 |

---

## 3. 房東端操作

### 3.1 登錄
1. 訪問房東端頁面
2. 輸入房東登錄碼（6位數字）
3. 點擊「進入系統」

### 3.2 房源管理

#### 添加新房源
1. 點擊下方「+」按鈕
2. 填寫房源信息：
   - 房源名稱（如：市中心公寓）
   - 地址（系統自動解析）
   - 臥室數量
   - 衛浴數量
   - 樓層
   - 面積（平方英尺）
3. 點擊「保存房源」

#### 編輯/刪除房源
- 點擊「✏️ 修改資訊」編輯
- 點擊「🗑️ 移除」刪除

### 3.3 發佈清潔任務

1. 點擊上方「+」按鈕
2. 選擇房源
3. 設定退房時間
4. 設定清潔報價（TWD）
5. 添加備註（可選）：
   - ✏️ 文字備註
   - 🎤 語音備註（按住錄音）
6. 點擊「發布任務」

### 3.4 訂單管理

#### 訂單狀態
- ⏳ 待接單：等待清潔師傅搶單
- 🔄 工作中：已有人接單，正在清潔
- ✅ 待驗收：清潔師傅已完成，等待房東驗收
- ✅✅ 已驗收：房東已確認完成

#### 驗收訂單
1. 找到「待驗收」狀態的訂單
2. 查看完工照片
3. 點擊「✅ 確認驗收」

#### 編輯/刪除訂單
- 待接單狀態可編輯或刪除
- 進行中/已完成不可刪除

---

## 4. 清潔師傅端操作

### 4.1 登錄
1. 訪問清潔師傅端頁面
2. 輸入登錄碼（6位數字）
3. 點擊「進入系統」

### 4.2 搶單大廳

#### 查看訂單
- 顯示所有「待接單」任務
- 可按金額或時間排序

#### 搶單流程
1. 選擇心儀的訂單
2. 查看基本信息：
   - 房源信息
   - 退房時間
   - 清潔報價
   - 房東備註（文字/語音）
3. 點擊「✋ 立即搶單」
4. 確認彈窗中：
   - 查看房東電話
   - 點擊「確認接單」

### 4.3 我的任務

#### 工作流程
1. **已接單**：剛搶到的任務
   - 📍 點擊「我已到達」到場
   - 致電房東確認詳情

2. **已到達-清潔中**：到達現場開始清潔
   - 🧹 進行清潔工作
   - ✅ 點擊「清潔完成」

3. **已完成**：等待房東驗收
   - 等待房東確認

#### 上傳完工照片
1. 清潔完成後
2. 點擊「上傳照片」
3. 拍照或選擇圖片
4. 確認上傳

---

## 5. 管理後台操作

### 5.1 登錄
1. 訪問管理後台
2. 輸入帳號密碼（預設：admin / admin123）

### 5.2 功能模塊

#### 清潔夥伴管理
- 查看所有清潔師傅
- 新增/刪除師傅
- 查看師傅接單統計

#### 房東客戶管理
- 查看所有房東
- 新增/刪除房東
- 查看房東發佈訂單統計

#### 訂單管理
- 查看所有訂單
- 篩選狀態
- 刪除訂單
- 統計收入

---

## 6. 常見問題

### Q1: 忘記登錄碼怎麼辦？
- 聯繫管理員重置

### Q2: 搶單失敗怎麼辦？
- 可能已被其他師傅搶走
- 繼續搶其他訂單

### Q3: 房東聯繫不上怎麼致電？
- 通過訂單詳情獲取電話
- 多次嘗試聯繫

### Q4: 需要改變預約時間？
- 取消訂單後重新發佈

### Q5: 清潔過程中發現額外問題？
- 聯繫房東協商
- 可拍攝照片作為證據

---

## 📞 技術信息

- **API 端點**：/api/*
- **數據庫**：SQLite (cleaning.db)
- **端口**：80
- **GitHub**：https://github.com/Liangwei-zhang/cleaning_service

---

*最後更新：2026-02-28*
